<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Our Providers - Awakenings Mental Health</title>

  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- Link to global stylesheet -->
  <link rel="stylesheet" href="Global.css">
  <!-- Page-specific styles for Our Providers -->
  <style>
    .page-intro {
      text-align: center;
      margin-bottom: 2.5rem;
      font-size: 1.1rem;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
    html.dark .page-intro {
        color: var(--text-light);
    }
    .provider-profile {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      margin-bottom: 3rem;
      padding: 1.5rem;
      background-color: var(--bg-light);
      border-radius: 8px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.07);
      transition: background-color 0.3s, box-shadow 0.3s;
    }
    html.dark .provider-profile {
        background-color: var(--bg-dark);
        box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    }
    .provider-photo-container {
      flex-shrink: 0;
      text-align: center;
    }
    .provider-photo {
      width: 180px;
      height: 180px;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid var(--theme-blue-static);
    }
    .provider-info {
      flex-grow: 1;
    }
    .provider-info h3 {
      font-family: 'Dancing Script', cursive;
      font-size: 2rem;
      color: var(--heading-color);
      margin-bottom: 0.25rem;
    }
    .provider-info .credentials {
      font-style: italic;
      color: var(--accent);
      margin-bottom: 1rem;
    }
    .provider-contact p {
        margin-bottom: 0.3rem;
        font-size: 0.95rem;
    }
    .provider-contact a {
        color: var(--accent);
        text-decoration: none;
    }
    .provider-contact a:hover {
        text-decoration: underline;
    }
    .psychology-today-embed-wrapper {
        margin-top: 1.5rem;
        text-align: center;
    }
    @media (min-width: 768px) {
      .provider-profile {
        flex-direction: row;
        align-items: flex-start;
      }
      .provider-photo-container {
        text-align: left;
      }
      .psychology-today-embed-wrapper {
        text-align: left;
      }
    }
  </style>
</head>
<body>
  <header id="site-header" class="banner">
    <h1 data-aos="fade-down">
      <img src="Square Logo.png" alt="Awakenings Logo" class="header-favicon">
      <span class="title-main-word">Awakenings</span>
      <span class="title-secondary-words">Mental&nbsp;Health</span>
    </h1>
    <a href="javascript:void(0);" class="icon mobile-menu-icon" onclick="toggleMobileMenu()"><i class="fa fa-bars"></i></a>
    <nav id="main-nav">
      <div id="mobile-nav-links">
        <a href="index.html" class="nav-link" target="_top">Home</a>
      <a href="our-providers.html" class="nav-link" target="_top">Our Providers</a>
      <a href="articles.html" class="nav-link" target="_top">Articles</a>
      </div>
    </nav>
  </header>
  <main class="container">
    <div class="content-capsule">
      <h2 class="provider-section-title" data-aos="fade-up">Meet Our Providers</h2>
    <p class="page-intro" data-aos="fade-up" data-aos-delay="100">
      At Awakenings Mental Health, our dedicated team of psychiatric mental health nurse practitioners is committed to providing compassionate and comprehensive care. We believe in a collaborative approach, working closely with you to understand your unique needs and develop a personalized treatment plan. Get to know our skilled providers below.
    </p>

    <section class="provider-profile" data-aos="fade-up" data-aos-delay="200">
      <div class="provider-photo-container">
        <img src="Talia Mugshot.png" alt="Talia Sierra, PA-C, DMSc" class="provider-photo">
      </div>
      <div class="provider-info">
        <h3>Talia Sierra</h3>
        <p class="credentials">PA-C, DMSc</p>
        <div class="provider-contact">
            <p><strong>Call or Text:</strong> <a href="tel:2082950297">(208) 295-0297</a></p>
            <p><strong>Email:</strong> <a href="mailto:talia@awakeningsmentalhealth.com">talia@awakeningsmentalhealth.com</a></p>
            <p><strong>More About Me:</strong> <a href="https://www.psychologytoday.com/us/psychiatrists/talia-sierra-boise-id/1226261" target="_blank" rel="noopener noreferrer">Psychology Today</a></p>
        </div>
        <p>Welcome! Are you ready to embark on your journey to well-being? I provide compassionate, personalized care tailored to meet your unique needs. Mental health can profoundly impact your well-being and I want to help you develop your individual path to healing.</p>
        <p>As a doctorally trained PA I specialize in understanding the unique nuances of each individual's mental health journey and address concerns such as depression, anxiety, ADHD, bipolar disorder, PTSD, and more. I fully understand the impact mental health disorders can have on all aspects of your life, so reach out and let’s start a conversation!</p>
        
        <div class="provider-specialties">
          <h4>Specialties:</h4>
          <ul>
            <li>Depression</li>
            <li>Anxiety Disorders</li>
            <li>ADHD Management</li>
            <li>Bipolar Disorder</li>
            <li>PTSD</li>
            <li>Personalized Care</li>
          </ul>
        </div>

        <div class="psychology-today-embed-wrapper">
            <a href="https://www.psychologytoday.com/profile/1226261" class="sx-verified-seal"></a>
            <script type="text/javascript" src="https://member.psychologytoday.com/verified-seal.js" data-badge="13" data-id="1226261" data-code="aHR0cHM6Ly93d3cucHN5Y2hvbG9neXRvZGF5LmNvbS9hcGkvdmVyaWZpZWQtc2VhbC9zZWFscy8xMy9wcm9maWxlLzEyMjYyNjE/Y2FsbGJhY2s9c3hjYWxsYmFjaw==" async defer></script>
        </div>
        <a href="#" class="btn-provider-action">Book Appointment with Talia</a>
      </div>
    </section>

    <section class="provider-profile" data-aos="fade-up" data-aos-delay="100">
      <div class="provider-photo-container">
        <img src="Heidi Mugshot.png" alt="Heidi Posey, PA-C" class="provider-photo">
      </div>
      <div class="provider-info">
        <h3>Heidi Posey</h3>
        <p class="credentials">PA-C</p>
        <div class="provider-contact">
            <p><strong>Call or Text:</strong> <a href="tel:2082950297">(208) 295-0297</a></p>
            <p><strong>Email:</strong> <a href="mailto:heidi@awakeningsmentalhealth.com">heidi@awakeningsmentalhealth.com</a></p>
            <p><strong>More About Me:</strong> <a href="https://www.psychologytoday.com/us/psychiatrists/heidi-posey-boise-id/1233174" target="_blank" rel="noopener noreferrer">Psychology Today</a></p>
        </div>
        <p>Need to be heard? That is what I am here for. To listen and to explore what hasn't worked, and what has. Regardless of diagnosis, I want to help you with whatever symptoms are affecting you the most, and are your priority to address.</p>
        <p>I am well versed in psychopharmacology and want my patients to understand and feel comfortable with all our options, from prescription medications, supplements to brief psychotherapy; your situation is unique and your needs are too. Whether it's your first time reaching out, or if you want someone new to explore diagnosis and medications, it can be intimidating. Lets take those next steps together today.</p>
        
        <div class="provider-specialties">
          <h4>Specialties:</h4>
          <ul>
            <li>Psychopharmacology</li>
            <li>Medication Management</li>
            <li>Brief Psychotherapy</li>
            <li>Holistic Approaches</li>
            <li>Patient Education</li>
          </ul>
        </div>

        <div class="psychology-today-embed-wrapper">
            <a href="https://www.psychologytoday.com/profile/1233174" class="sx-verified-seal"></a>
            <script type="text/javascript" src="https://member.psychologytoday.com/verified-seal.js" data-badge="13" data-id="1233174" data-code="aHR0cHM6Ly93d3cucHN5Y2hvbG9neXRvZGF5LmNvbS9hcGkvdmVyaWZpZWQtc2VhbC9zZWFscy8xMy9wcm9maWxlLzEyMzMxNzQ/Y2FsbGJhY2s9c3hjYWxsYmFjaw==" async defer></script>
        </div>
        <a href="#" class="btn-provider-action">Book Appointment with Heidi</a>
      </div>
    </section>
    </div>
  </main>
  <button id="to-top">▲</button>
  <footer id="contact" data-aos="fade-up">
    <div class="footer-logo-container">
      <img src="Rectangle Logo.jpg" alt="Awakenings Mental Health Logo">
    </div>
    <div class="footer-text-content">
      <p>© <span id="current-year"></span> Awakenings Mental Health</p>
      <p>Questions? <a href="mailto:admin@awakeningsmentalhealth.com">admin@awakeningsmentalhealth.com</a> <a href="tel:2082950297">(208) 295-0297</a></p>
    </div>
  </footer>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    // Init AOS & current year
    document.getElementById('current-year').textContent = new Date().getFullYear();
    AOS.init({ duration: 600, once: true, disable: () => window.matchMedia('(max-width: 600px)').matches });

    // Smooth scroll to top
    document.getElementById('to-top').addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Early exit for mobile in the heavy scroll animation
    function updateHeaderStylesOnScroll(scrollY) {
      if (window.matchMedia('(max-width: 600px)').matches) return;
      
      if (!siteHeader || !h1Title || !mainContainer) return;

      let progress = 0;
      if (scrollY <= animationScrollStart) {
        progress = 0;
      } else if (scrollY >= animationScrollEnd) {
        progress = 1;
      } else {
        progress = (scrollY - animationScrollStart) / (animationScrollEnd - animationScrollStart);
      }
      progress = Math.max(0, Math.min(1, progress));

      requestAnimationFrame(() => {
        // Get initial h1 width when progress is 0 for accurate centering calculation later
        // This assumes h1 content doesn't drastically change width before this animation starts
        const h1InitialOffsetWidth = h1Title.offsetWidth; 
        const siteHeaderWidth = siteHeader.offsetWidth;

        // Adjust initialHeaderHeightVh for mobile
        const currentInitialHeaderHeightVh = window.innerWidth <= 480 ? 20 : initialHeaderHeightVh; // Use 20vh for mobile

        const initialHeaderActualHeight = (currentInitialHeaderHeightVh / 100) * window.innerHeight;
        const currentHeaderHeight = interpolateValue(initialHeaderActualHeight, finalHeaderHeightPx, progress);
        siteHeader.style.height = `${currentHeaderHeight}px`;
        mainContainer.style.paddingTop = `${currentHeaderHeight}px`; // Dynamically set padding

        // Determine the actual initial H1 font size based on CSS for unscrolled state
        let actualUnscrolledH1FontSizeRem;
        if (window.innerWidth <= 480) {
            actualUnscrolledH1FontSizeRem = 1.8; // As per CSS: @media (max-width: 480px) header#site-header:not(.scrolled-header-layout) h1
        } else {
            actualUnscrolledH1FontSizeRem = initialH1FontSizeRem; // This is 3.2rem, from JS vars, matches CSS for desktop
        }

        let targetFinalH1FontSize = window.innerWidth <= 480 ? finalH1MobileFontSizeRem : finalH1DesktopFontSizeRem;
        let currentH1FontSize;

        if (window.innerWidth <= 480) {
            const shrinkStartProgress = 0.1;
            const shrinkEndProgress = 0.6;
            const shrinkAmountRem = 0.2;

            // Font size that the general interpolation (actualUnscrolled to targetFinal) would achieve at shrinkStartProgress
            const baseSizeAtShrinkStart = interpolateValue(actualUnscrolledH1FontSizeRem, targetFinalH1FontSize, shrinkStartProgress);
            
            if (progress < shrinkStartProgress) {
                // Interpolate from actual unscrolled size towards the size it's supposed to be just before the special shrink phase begins.
                // The progress here is normalized for this segment (0 to shrinkStartProgress).
                currentH1FontSize = interpolateValue(actualUnscrolledH1FontSizeRem, baseSizeAtShrinkStart, progress / shrinkStartProgress);
            } else if (progress >= shrinkStartProgress && progress <= shrinkEndProgress) {
                // During the special shrink phase
                // The font size starts at baseSizeAtShrinkStart and ends at baseSizeAtShrinkStart - shrinkAmountRem.
                const targetSizeAtShrinkEnd = baseSizeAtShrinkStart - shrinkAmountRem;
                // Progress normalized for this segment (shrinkStartProgress to shrinkEndProgress).
                const phaseProgress = (progress - shrinkStartProgress) / (shrinkEndProgress - shrinkStartProgress);
                currentH1FontSize = interpolateValue(baseSizeAtShrinkStart, targetSizeAtShrinkEnd, phaseProgress);
            } else { // progress > shrinkEndProgress
                // After the special shrink phase
                // The font size at the end of the shrink phase was baseSizeAtShrinkStart - shrinkAmountRem.
                const fontSizeAfterShrink = baseSizeAtShrinkStart - shrinkAmountRem;
                // Interpolate from this shrunken size towards the overall targetFinalH1FontSize.
                // Progress normalized for this segment (shrinkEndProgress to 1.0).
                const phaseProgress = (1.0 - shrinkEndProgress === 0) ? 1 : (progress - shrinkEndProgress) / (1.0 - shrinkEndProgress); // Avoid division by zero if shrinkEndProgress is 1
                currentH1FontSize = interpolateValue(fontSizeAfterShrink, targetFinalH1FontSize, phaseProgress);
            }
        } else {
            // Desktop behavior: simple interpolation from its unscrolled size to its final scrolled size.
            currentH1FontSize = interpolateValue(actualUnscrolledH1FontSizeRem, targetFinalH1FontSize, progress);
        }
        h1Title.style.fontSize = `${currentH1FontSize}rem`;
        
        // Text box background opacity: fades 15% faster
        const backgroundOpacityProgress = Math.min(1, progress / 0.85);
        h1Title.style.backgroundColor = `rgba(220, 220, 220, ${interpolateValue(0.85, 0, backgroundOpacityProgress)})`;

        // Animate padding-right of the h1 text box to shrink its right side
        const paddingAnimationStartProgress = 0.6;
        const paddingAnimationEndProgress = 0.9;
        let currentPaddingRightRem;
        const rootFontSizePx = parseFloat(getComputedStyle(document.documentElement).fontSize);

        if (progress < paddingAnimationStartProgress) {
            currentPaddingRightRem = 1; // Default right padding (from initial 0.5rem 1rem)
        } else if (progress >= paddingAnimationEndProgress) {
            currentPaddingRightRem = 0.5; // Target final right padding
        } else {
            // Calculate progress specifically for this padding animation phase
            const paddingSpecificProgress = (progress - paddingAnimationStartProgress) / (paddingAnimationEndProgress - paddingAnimationStartProgress);
            // Initial padding for this animation phase includes the width of secondary words
            let initialPaddingForAnimationRem = 1; // Base right padding
            if (rootFontSizePx > 0 && lastKnownSecondaryWordsWidth > 0) {
                initialPaddingForAnimationRem += (lastKnownSecondaryWordsWidth / rootFontSizePx);
            }
            currentPaddingRightRem = interpolateValue(initialPaddingForAnimationRem, 0.5, paddingSpecificProgress);
        }
        h1Title.style.paddingRight = `${currentPaddingRightRem}rem`;
        // padding-left, top, bottom remain as set in CSS (0.5rem top/bottom, 1rem left initially, then padding-right changes)

        // Animation for titleSecondaryWords ("Mental Health")
        const secondaryFadeStartProgress = 0.1; // Start fading "Mental Health" a bit after scroll starts
        const secondaryFadeEndProgress = 0.6;   // "Mental Health" fully faded by this point
        let secondaryOpacity = 1;

        if (progress <= secondaryFadeStartProgress) {
            secondaryOpacity = 1;
        } else if (progress >= secondaryFadeEndProgress) {
            secondaryOpacity = 0;
        } else {
            secondaryOpacity = 1 - ((progress - secondaryFadeStartProgress) / (secondaryFadeEndProgress - secondaryFadeStartProgress));
        }
        
        if (titleSecondaryWords) {
            titleSecondaryWords.style.opacity = secondaryOpacity;
            if (secondaryOpacity <= 0.01) {
                titleSecondaryWords.style.display = 'none';
            } else {
                titleSecondaryWords.style.display = 'inline-block';
                lastKnownSecondaryWordsWidth = titleSecondaryWords.offsetWidth; // Capture width when visible
            }
        }

        // Favicon: Fades in as "Mental Health" fades out, or slightly delayed
        const faviconFadeStartProgress = 0.2; 
        const faviconFadeEndProgress = 0.7;
        let faviconOpacity = 0;

        if (progress <= faviconFadeStartProgress) {
            faviconOpacity = 0;
        } else if (progress >= faviconFadeEndProgress) {
            faviconOpacity = 1;
        } else {
            faviconOpacity = (progress - faviconFadeStartProgress) / (faviconFadeEndProgress - faviconFadeStartProgress);
        }

        if (headerFavicon) {
            headerFavicon.style.opacity = faviconOpacity;
            const currentFaviconSize = interpolateValue(initialFaviconSizePx, finalFaviconSizePx, faviconOpacity); // Link size to its own opacity progress
            headerFavicon.style.width = `${currentFaviconSize}px`;
            headerFavicon.style.height = `${currentFaviconSize}px`;
            if (faviconOpacity > 0.01) {
                headerFavicon.style.display = 'inline-block';
            } else {
                headerFavicon.style.display = 'none';
            }
        }
        
        // Ensure titleMainWord is always displayed (it doesn't fade itself, its container h1 changes color)
        if (titleMainWord) {
            titleMainWord.style.display = 'inline-block'; // Ensure it's always visible
            // Opacity for titleMainWord could be 1, or tied to overall progress if a subtle fade-in is desired for it
            // For now, let's assume it's always fully opaque relative to its container.
        }

        // Set CSS variables for pseudo-element opacity (sketch background)
        siteHeader.style.setProperty('--header-bg-image-opacity', 1 - progress);
        siteHeader.style.setProperty('--header-bg-overlay-opacity', 1 - progress);
        
        // Animate header background color (to solid blue)
        const themeBlueStaticRGB = hexToRgb(getComputedStyle(document.documentElement).getPropertyValue('--theme-blue-static').trim());
        siteHeader.style.backgroundColor = `rgba(${themeBlueStaticRGB[0]}, ${themeBlueStaticRGB[1]}, ${themeBlueStaticRGB[2]}, ${progress})`;

        // H1 text color transitions from initial (blue) to final (white)
        h1Title.style.color = interpolateRgbColor(initialH1ColorRgb, finalH1ColorRgb, progress);

        // Animate H1 horizontal position using translateX, from centered to flex-start position
        if (h1Title && siteHeaderWidth > 0 && h1InitialOffsetWidth > 0) {
            const siteHeaderPaddingLeft = parseFloat(getComputedStyle(siteHeader).paddingLeft) || 0;
            // Calculate the offset needed to center h1 from its natural flex-start position
            const translateXForCentering = (siteHeaderWidth / 2) - (h1InitialOffsetWidth / 2) - siteHeaderPaddingLeft;
            
            // Interpolate translateX from this centering offset down to 0 (natural flex-start position)
            const currentTranslateX = interpolateValue(translateXForCentering, 0, progress);
            h1Title.style.transform = `translateX(${currentTranslateX}px)`;
        }
        
        // Apply scrolled-header-layout class for box-shadow on header (and potentially nav if it wasn't absolute)
        if (progress > 0.5) { // Threshold for applying scrolled class (e.g., for box-shadow)
          siteHeader.classList.add('scrolled-header-layout');
          if (navElement) {
            navElement.style.top = '1.3rem'; // Raised slightly: JS controlled top for scrolled
            navElement.style.right = '1rem'; // JS controlled right for scrolled
          }
        } else {
          siteHeader.classList.remove('scrolled-header-layout');
          if (navElement) {
            navElement.style.top = '1rem'; // JS controlled top for unscrolled
            navElement.style.right = window.innerWidth <= 480 ? '0.5rem' : '1rem'; // JS controlled right for unscrolled
          }
        }
      });
    }

    let lastKnownScrollY = 0;
    let ticking = false;
    
    // Constants from the old script that are needed by the merged updateHeaderStylesOnScroll
    const siteHeader = document.getElementById('site-header');
    const mainContainer = document.querySelector('main.container');
    const h1Title = siteHeader ? siteHeader.querySelector('h1') : null;
    const titleMainWord = h1Title ? h1Title.querySelector('.title-main-word') : null;
    const titleSecondaryWords = h1Title ? h1Title.querySelector('.title-secondary-words') : null;
    const headerFavicon = h1Title ? h1Title.querySelector('.header-favicon') : null;
    const navElement = siteHeader ? siteHeader.querySelector('nav') : null;

    let initialHeaderHeightVh = 30; 
    const finalHeaderHeightPx = 90; 

    let initialH1FontSizeRem = 3.2; 
    if(h1Title) {
        const rootFontSize = parseFloat(getComputedStyle(document.documentElement).fontSize);
        const computedFontSize = parseFloat(getComputedStyle(h1Title).fontSize);
        if (rootFontSize > 0 && computedFontSize > 0) { 
            initialH1FontSizeRem = computedFontSize / rootFontSize;
        }
    }
    
    const finalH1DesktopFontSizeRem = 3.2; 
    const finalH1MobileFontSizeRem = 1.6;  

    const initialFaviconSizePx = 0; 
    const finalFaviconSizePx = 64;  

    const initialH1ColorHex = "#27296d"; 
    const finalH1ColorHex = "#FFFFFF";   

    const animationScrollStart = 0;
    const animationScrollEnd = 200; 

    let lastKnownSecondaryWordsWidth = 0; 

    function hexToRgb(hex) {
        let r = 0, g = 0, b = 0;
        if (hex.length == 4) { 
            r = parseInt(hex[1] + hex[1], 16);
            g = parseInt(hex[2] + hex[2], 16);
            b = parseInt(hex[3] + hex[3], 16);
        } else if (hex.length == 7) { 
            r = parseInt(hex[1] + hex[2], 16);
            g = parseInt(hex[3] + hex[4], 16);
            b = parseInt(hex[5] + hex[6], 16);
        }
        return [r, g, b];
    }
    
    const initialH1ColorRgb = hexToRgb(initialH1ColorHex);
    const finalH1ColorRgb = hexToRgb(finalH1ColorHex);

    function interpolateValue(start, end, progress) {
        return start + (end - start) * progress;
    }

    function interpolateRgbColor(colorStartRgb, colorEndRgb, progress) {
        const r = Math.round(interpolateValue(colorStartRgb[0], colorEndRgb[0], progress));
        const g = Math.round(interpolateValue(colorStartRgb[1], colorEndRgb[1], progress));
        const b = Math.round(interpolateValue(colorStartRgb[2], colorEndRgb[2], progress));
        return `rgb(${r},${g},${b})`;
    }
    // End of constants needed by merged function

    // New JavaScript function for mobile menu toggle
    function toggleMobileMenu() {
      var linksContainer = document.getElementById("mobile-nav-links");
      var iconElement = document.querySelector(".mobile-menu-icon .fa");
      if (linksContainer.style.display === "block") {
        linksContainer.style.display = "none";
        if(iconElement) iconElement.className = "fa fa-bars"; // Change back to bars
      } else {
        linksContainer.style.display = "block";
        if(iconElement) iconElement.className = "fa fa-times"; // Change to X
      }
    }

    window.addEventListener('scroll', () => {
      lastKnownScrollY = window.scrollY;
      if (!ticking) {
        window.requestAnimationFrame(() => {
          updateHeaderStylesOnScroll(lastKnownScrollY);
          document.body.classList.toggle('scrolled', lastKnownScrollY > 50);
          ticking = false;
        });
        ticking = true;
      }
    });
    
    // Mobile helper class & other event listeners from new script
    document.addEventListener('DOMContentLoaded', () => {
      if (window.matchMedia('(max-width: 600px)').matches) {
        document.body.classList.add('mobile-header-enabled');
      }
      // Call updateHeaderStylesOnScroll on DOMContentLoaded like in old script
      updateHeaderStylesOnScroll(window.scrollY);

      // Remove old JavaScript for mobileMenuToggle and mainNav.classList.toggle
      // const mobileMenuToggle = document.getElementById('mobile-menu-toggle'); // This ID is gone
      // const mainNav = document.getElementById('main-nav'); // mainNav is still there, but #mobile-nav-links is toggled

      // if (mobileMenuToggle && mainNav) { ... } // Old logic removed

      // New: Close menu if a link inside is clicked (for the new structure)
      const mobileNavLinksContainer = document.getElementById('mobile-nav-links');
      if (mobileNavLinksContainer) {
        mobileNavLinksContainer.querySelectorAll('.nav-link').forEach(link => {
          link.addEventListener('click', () => {
            if (mobileNavLinksContainer.style.display === "block") {
              // Check if the icon exists before trying to change it
              const iconElement = document.querySelector(".mobile-menu-icon .fa");
              if (iconElement) {
                 iconElement.className = "fa fa-bars"; // Change back to bars
              }
              mobileNavLinksContainer.style.display = "none";
            }
          });
        });
      }
      
      // New: Close menu if clicked outside (for the new structure)
      // Note: The icon itself has an onclick, so it handles its own toggle.
      // This listener is for clicks *outside* the menu and *not* on the icon.
      document.addEventListener('click', (event) => {
        const mobileMenuIcon = document.querySelector('.mobile-menu-icon');
        if (mobileNavLinksContainer && mobileNavLinksContainer.style.display === 'block') {
          if (!mobileNavLinksContainer.contains(event.target) && !(mobileMenuIcon && mobileMenuIcon.contains(event.target))) {
            mobileNavLinksContainer.style.display = 'none';
            const iconElement = document.querySelector(".mobile-menu-icon .fa");
            if (iconElement) {
              iconElement.className = "fa fa-bars"; // Change back to bars
            }
          }
        }
      });


      // Accordion logic from old script
      const accordionHeaders = document.querySelectorAll('.accordion .acc-header');
      if (accordionHeaders.length > 0) {
          accordionHeaders.forEach(btn => {
            btn.addEventListener('click', () => {
              btn.classList.toggle('active');
              const body = btn.nextElementSibling;
              body.style.maxHeight = btn.classList.contains('active') ? body.scrollHeight + 'px' : '0';
            });
          });
      }

      // Lazy iframe logic from old script
      const lazyIframes = document.querySelectorAll('iframe.lazy-embed');
      if (lazyIframes.length > 0) {
          lazyIframes.forEach(iframe => { 
            if (iframe.classList.contains('skeleton')) { 
                iframe.addEventListener('load', () => {
                    iframe.classList.remove('skeleton');
                    if (typeof AOS !== 'undefined') { 
                      AOS.refresh(); 
                    }
                });
            }
          });
      }
    });

    // Theme switcher logic from old script
    const applySystemTheme = (isDark) => {
        document.documentElement.classList.toggle('dark', isDark);
        if (typeof AOS !== 'undefined') AOS.refreshHard(); 
        let currentBg = getComputedStyle(document.documentElement).getPropertyValue(isDark ? '--bg-dark' : '--bg-light').trim();
        document.querySelectorAll('.separator path').forEach(p => p.style.fill = currentBg);
    };

    const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    applySystemTheme(prefersDarkScheme.matches); 
    prefersDarkScheme.addEventListener('change', (e) => applySystemTheme(e.matches));
    
    // Resize listener from old script
    window.addEventListener('resize', () => { 
        updateHeaderStylesOnScroll(window.scrollY); 
    });

    // Load listener from old script
    window.addEventListener('load', function() {
      if (typeof AOS !== 'undefined') setTimeout(() => AOS.refreshHard(), 1200); 
      updateHeaderStylesOnScroll(window.scrollY); 
    });

  </script>
  <!-- Any other existing JS scripts remain untouched below -->
</body>
</html>
