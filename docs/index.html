<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Awakenings Mental Health</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css"/>
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"/>

  <style>
    :root {
      --primary: #2F3E46;
      --secondary: #84A98C;
      --accent: #E07A5F;
      --bg-light: #F0F3F4;
      --bg-dark: #1D2021;
      --text-light: #F0F3F4;
      --text-dark: #1D2021;
    }
    /* Dark mode */
    .dark {
      --bg-light: var(--bg-dark);
      --text-dark: var(--text-light);
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg-light);
      color: var(--text-dark);
      line-height: 1.6;
      transition: background .3s, color .3s;
      padding-top: 4px; /* for progress bar */
    }
    /* Progress bar */
    #progress-bar {
      position: fixed; top: 0; left: 0;
      height: 4px; background: var(--accent);
      width: 0%; transition: width .1s ease-out;
      z-index: 9999;
    }
    /* Sticky header */
    header#site-header {
      position: fixed; top: 0; left: 0; width: 100%;
      background: var(--primary) url('https://www.awakeningsmentalhealth.com/images/hero.jpg') center/cover no-repeat;
      height: 60vh; display: flex; align-items: center; justify-content: center;
      transition: all .3s ease;
      z-index: 1000;
    }
    body.scrolled header#site-header {
      background: var(--primary) center/cover no-repeat;
      height: 60px;
      box-shadow: 0 2px 8px rgba(0,0,0,.2);
    }
    header#site-header::after {
      content: ''; position: absolute; inset: 0;
      background: rgba(47,62,70,0.6);
    }
    header#site-header h1 {
      position: relative; color: white; font-size: 3rem; z-index: 1;
      transition: font-size .3s ease;
    }
    body.scrolled header#site-header h1 { font-size: 1.5rem; }
    nav {
      position: absolute; top: 1rem; right: 2rem; z-index: 2;
      display: flex; /* Added for aligning items including button */
      align-items: center; /* Added for aligning items including button */
    }
    nav a {
      color: white; margin-left: 1.5rem; text-decoration: none; font-weight: 600;
      font-size: 0.9rem; transition: color .3s;
    }
    nav a:hover { color: var(--accent); }
    
    /* OLD Dark mode toggle CSS - REMOVED
    #theme-toggle {
      position: absolute; top: 1rem; left: 2rem;
      background: var(--accent); border: none;
      color: white; padding: 0.5rem; border-radius: 4px;
      cursor: pointer; font-size: 0.8rem; z-index: 2;
    } */

    /* NEW Dark mode toggle CSS - for button inside nav */
    nav #theme-toggle {
      background: var(--accent);
      border: none;
      color: white;
      padding: 0.4rem 0.8rem; /* Adjusted padding */
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9rem; /* Matched nav links */
      font-weight: 600; /* Matched nav links */
      margin-left: 1.5rem; /* Spacing from other nav items */
      line-height: 1; /* Adjust for better vertical alignment if needed */
      /* vertical-align: middle; /* Alternative alignment */
    }
    nav #theme-toggle:hover {
        opacity: .9;
    }

    .container {
      max-width: 1000px; margin: 0 auto; padding: 2rem 1rem;
    }
    .grid-2 {
      display: grid; grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
      gap: 2rem; align-items: start; margin-bottom: 3rem;
    }
    .card {
      background: var(--bg-light); border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05); overflow: hidden;
    }
    .card header {
      padding: 1rem; background: var(--secondary); color: white;
      font-weight: 600; font-size: 1.2rem;
    }
    .card .content { padding: 1rem; }
    .btn {
      display: inline-block; background: var(--accent);
      color: white; padding: 0.75rem 1.5rem;
      border-radius: 4px; text-decoration: none;
      font-weight: 600; margin: 0.5rem;
      transition: background .3s, opacity .3s; /* Added opacity transition */
    }
    .btn.secondary { background: var(--secondary); }
    .btn:hover { opacity: .9; }
    /* SVG separators */
    .separator { display: block; width: 100%; height: 80px; }
    /* Accordion (FAQ) */
    .accordion .acc-header {
      background: var(--secondary); color: white;
      cursor: pointer; padding: 1rem; border: none; width: 100%;
      text-align: left; outline: none; font-size: 1rem; transition: background .3s;
    }
    .accordion .acc-header.active { background: var(--accent); }
    .accordion .acc-body {
      max-height: 0; overflow: hidden;
      transition: max-height .3s ease;
      background: white; padding: 0 1rem;
    }
    .accordion .acc-body p { padding: 1rem 0; }
    /* Skeleton for lazy embeds */
    .skeleton { background: #ddd; position: relative; }
    /* Testimonials (Swiper) */
    .swiper-container { width: 100%; padding: 2rem 0; }
    .swiper-slide {
      background: white; border-radius: 8px; padding: 1.5rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      font-style: italic; text-align: center;
    }
    /* Back to Top */
    #to-top {
      position: fixed; bottom: 2rem; right: 2rem;
      background: var(--accent); border: none; color: white;
      padding: 0.75rem; border-radius: 50%; font-size: 1.2rem;
      cursor: pointer; opacity: 0; transition: opacity .3s;
      z-index: 1000;
    }
    body.scrolled #to-top { opacity: 1; }
  </style>
</head>
<body>

  <div id="progress-bar"></div>

  <header id="site-header">
    <nav>
      <a href="#services">Services</a>
      <a href="#insurance">Insurance</a>
      <a href="#booking">Book</a>
      <a href="#contact">Contact</a>
      <button id="theme-toggle">Toggle Dark</button> 
    </nav>
    <h1 data-aos="fade-down">Awakenings Mental Health</h1>
    <div id="heart-animation" style="position:absolute; bottom:1rem; right:1rem; width:60px; height:60px;"></div>
  </header>

  <main class="container">

    <section id="services" class="grid-2" data-aos="fade-up">
      <div class="card" data-aos="zoom-in">
        <header>Individual Therapy</header>
        <div class="content">
          <p>Personalized support for anxiety, depression, and life transitions.</p>
        </div>
      </div>
      <div class="card" data-aos="zoom-in" data-aos-delay="100">
        <header>Medication Management</header>
        <div class="content">
          <p>Expert psychiatric care to optimize your treatment plan.</p>
        </div>
      </div>
    </section>

    <svg class="separator" viewBox="0 0 1200 100" preserveAspectRatio="none">
      <path d="M0,0 C300,100 900,0 1200,100 L1200,0 L0,0 Z" fill="var(--bg-light)"/>
    </svg>

    <section id="testimonials" class="swiper-container" data-aos="fade-up">
      <div class="swiper-wrapper">
        <div class="swiper-slide">“Awakenings changed my life…” — A. Smith</div>
        <div class="swiper-slide">“Professional, caring, and effective.” — J. Doe</div>
        <div class="swiper-slide">“I finally feel heard and supported.” — K. Lee</div>
      </div>
      <div class="swiper-pagination"></div>
    </section>

    <svg class="separator" viewBox="0 0 1200 100" preserveAspectRatio="none">
      <path d="M0,100 C300,0 900,100 1200,0 L1200,100 L0,100 Z" fill="var(--bg-light)"/>
    </svg>

    <section id="location" class="grid-2" data-aos="fade-right">
      <div>
        <h2>Our Location</h2>
        <address>
          6126 W State St #104<br>
          Boise, ID 83703
        </address>
      </div>
      <iframe
        class="skeleton lazy-embed"
        loading="lazy"
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3080.1234567890123!2d-116.253456!3d43.6034567!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x54aef5e4b2c7f789%3A0x123456789abcdef!2s6126%20W%20State%20St%20%23104%2C%20Boise%2C%20ID%2083703!5e0!3m2!1sen!2sus!4v1650000000000" width="100%" height="250" style="border:0;" allowfullscreen>
      </iframe>
    </section>

    <svg class="separator" viewBox="0 0 1200 100" preserveAspectRatio="none">
      <path d="M0,0 C300,100 900,0 1200,100 L1200,0 L0,0 Z" fill="var(--bg-light)"/>
    </svg>

    <section id="insurance" data-aos="fade-left">
      <div class="accordion card">
        <button class="acc-header">What insurances do you accept?</button>
        <div class="acc-body">
          <p>Blue Cross, Select Health, Aetna, …</p>
        </div>
        <button class="acc-header">How do I verify coverage?</button>
        <div class="acc-body">
          <p>Contact our office <a href="tel:2082950297" style="color: var(--accent);">(208)295-0297</a></p>
        </div>
      </div>
    </section>

    <svg class="separator" viewBox="0 0 1200 100" preserveAspectRatio="none">
      <path d="M0,100 C300,0 900,100 1200,0 L1200,100 L0,100 Z" fill="var(--bg-light)"/>
    </svg>

    <section id="booking" data-aos="zoom-in-up" style="text-align:center; margin-bottom:3rem;">
      <h2>Book an Appointment</h2>
      <div class="card">
        <div class="content">
          <a href="https://www.therapyportal.com/p/awakenings83703/"
             class="btn" 
             target="_blank"
             rel="noopener noreferrer">
            Patient Portal
          </a>
          <a href="https://docs.google.com/forms/d/e/1FAIpQLSeeYABYxDoscWL3jH-SNU51X0hgomcb0bEqshRIUnCRg7aSgA/viewform"
             class="btn secondary" target="_blank"
             rel="noopener noreferrer">
            Appointment Interest Form
          </a>
        </div>
      </div>
    </section>

    </main>

  <button id="to-top">▲</button>

  <footer id="contact" style="text-align:center; padding:2rem 0;" data-aos="fade-up">
    <p>© <span id="current-year">2025</span> Awakenings Mental Health</p>
    <p>Questions? <a href="mailto:admin@awakeningsmentalhealth.com" style="color: var(--accent);">admin@awakeningsmentalhealth.com</a> <a href="tel:2082950297" style="color: var(--accent);">(208)295-0297</a></p>
  </footer>

  <script src="https://unpkg.com/lottie-web@latest/build/player/lottie.min.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

  <script>
    // Set current year in footer
    document.getElementById('current-year').textContent = new Date().getFullYear();

    // AOS init
    AOS.init({ duration: 600, once: true });

    // Swiper init
    new Swiper('.swiper-container', {
      autoplay: { delay: 5000 },
      loop: true,
      pagination: { el: '.swiper-pagination', clickable: true }
    });

    // Lottie animation
    try {
        lottie.loadAnimation({
          container: document.getElementById('heart-animation'),
          path: 'https://assets7.lottiefiles.com/packages/lf20_heart.json', // Ensure this Lottie JSON path is valid
          renderer: 'svg', loop: true, autoplay: true
        });
    } catch (e) {
        console.error("Lottie animation could not be loaded.", e);
        const heartAnimContainer = document.getElementById('heart-animation');
        if(heartAnimContainer) heartAnimContainer.style.display = 'none'; // Hide container if Lottie fails
    }


    // DOM elements
    const siteHeader = document.getElementById('site-header');
    const progressBar = document.getElementById('progress-bar');
    const toTop = document.getElementById('to-top');
    const mainContainer = document.querySelector('main.container');

    // Function to adjust main container padding top based on header height
    function adjustMainContentPadding() {
      if (siteHeader && mainContainer) {
        mainContainer.style.paddingTop = siteHeader.offsetHeight + 'px';
      }
    }

    // Initial adjustment after elements are loaded
    window.addEventListener('load', adjustMainContentPadding);
    window.addEventListener('resize', adjustMainContentPadding);


    // Scroll events: sticky header & progress bar & back-to-top
    window.addEventListener('scroll', () => {
      const scrolled = window.scrollY > 50;
      document.body.classList.toggle('scrolled', scrolled);
      
      adjustMainContentPadding(); 

      if (document.body.scrollHeight > window.innerHeight) { 
        const pct = (window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100;
        progressBar.style.width = pct + '%';
      } else {
        progressBar.style.width = '0%';
      }
    });
    toTop.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

    // Dark mode toggle
    const toggle = document.getElementById('theme-toggle');
    if (toggle) {
        toggle.addEventListener('click', () => {
          document.documentElement.classList.toggle('dark');
          localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
        });
        // Apply saved theme on load
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
          document.documentElement.classList.add('dark');
        } else if (savedTheme === 'light') {
          document.documentElement.classList.remove('dark'); // Explicitly set light if needed
        } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            // Optional: Default to system preference if no theme saved
            // document.documentElement.classList.add('dark'); 
        }
    }


    // Accordion
    document.querySelectorAll('.accordion .acc-header').forEach(btn => {
      btn.addEventListener('click', () => {
        btn.classList.toggle('active');
        const body = btn.nextElementSibling;
        body.style.maxHeight = btn.classList.contains('active') ? body.scrollHeight + 'px' : '0';
      });
    });

    // Remove skeleton on embed load
    document.querySelectorAll('iframe.lazy-embed').forEach(iframe => { 
      if (iframe.classList.contains('skeleton')) { 
          iframe.addEventListener('load', () => iframe.classList.remove('skeleton'));
      }
    });
  </script>
</body>
</html>
